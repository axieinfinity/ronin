version: "3"
services:
  node:
    build:
      context: ../../
      dockerfile: docker/chainnode/Dockerfile
    restart: always
    hostname: node
    container_name: node
    ports:
      - "8545:8545"
      - "8546:8546"
      - "30303:30303"
      - "30303:30303/udp"
    volumes:
      - ~/.skymavis/chaindata:/ronin
    environment:
      - SYNC_MODE=snap
      - BOOTNODES=${BOOTNODES}
      - NETWORK_ID=${NETWORK_ID}
      - GENESIS_PATH=${GENESIS_PATH}
      - RPC_NODE=${RPC_NODE}
      - DATA_DIR=${DATA_DIR}
    network_mode: bridge
